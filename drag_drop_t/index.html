<!DOCTYPE html>
<meta charset="utf-8">
<link rel="stylesheet" href="style.css">
<script src="https://d3js.org/d3.v5.min.js"></script>

<body>

    <svg id="dragdrop" width="600" height="200">
        <circle cx="100" cy="100" r="20" fill="red"/>
        <circle cx="300" cy="100" r="20" fill="green"/>
        <circle cx="500" cy="100" r="20" fill="blue"/>
    </svg>  

    <script>
       function makeDragDrop() {
         var widget = undefined, color = undefined

         var drag = d3.drag()
          .on( "start", function() {
            color = d3.select(this)
              .attr("fill");
            widget = d3.select(this)
              .attr("fill", "lime")
          })
          .on("drag", function() {
            var pt = d3.mouse(d3.select(this).node());
            widget
              .attr("cx",pt[0])
              .attr("cy", pt[1]);
          })
          .on("end", function() {
            widget
              .attr("fill", color);
            widget = undefined;
          });

          drag(d3.select("#dragdrop").selectAll("circle"));
       }
    </script>

</body>
